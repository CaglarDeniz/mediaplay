{"ast":null,"code":"var _jsxFileName = \"/home/deniz/projects/mediaplay/src/index.tsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { DownloadWindow } from './Download';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst blueBackground = {\n  backgroundColor: \"var(--uofiblue)\"\n};\nconst orangeBackground = {\n  backgroundColor: \"var(--uofichampaignorange)\"\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      toggledMediaSpace: true,\n      selectedFile: \"\",\n      videoLinkString: \"\",\n      playlistLinkString: \"\",\n      downloading: false,\n      downloadComplete: false,\n      downloadObject: \"\",\n      downloadError: false\n    };\n    this.handleMediaSpaceButton = this.handleMediaSpaceButton.bind(this);\n    this.handleEchoButton = this.handleEchoButton.bind(this);\n    this.onFileChange = this.onFileChange.bind(this);\n    this.onFileUpload = this.onFileUpload.bind(this);\n    this.onVideoLinkProvided = this.onVideoLinkProvided.bind(this);\n    this.onPlaylistLinkProvided = this.onPlaylistLinkProvided.bind(this);\n    this.onDownloadReset = this.onDownloadReset.bind(this);\n  }\n\n  onFileChange(e) {\n    this.setState({\n      selectedFile: e.target.files[0]\n    });\n  }\n\n  onFileUpload() {\n    if (this.state.videoLinkString !== \"\" && this.state.playlistLinkString === \"\") {\n      console.log(\"File succesfully uploaded with filename: \" + this.state.selectedFile.name);\n      let formData = new FormData();\n      formData.append(\"cookieFile\", this.state.selectedFile);\n      formData.append(\"videoLinkString\", this.state.videoLinkString);\n      this.setState({\n        downloading: true,\n        downloadObject: \"video\"\n      });\n      axios.post('http://localhost:5000/video', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          downloadComplete: true,\n          downloading: false\n        });\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          downloadError: true,\n          downloading: false,\n          downloadComplete: false,\n          downloadObject: \"\"\n        });\n      });\n    } else if (this.state.playlistLinkString !== \"\" && this.state.videoLinkString === \"\") {\n      console.log(\"File succesfully uploaded with filename: \" + this.state.selectedFile.name);\n      let formData = new FormData();\n      formData.append(\"cookieFile\", this.state.selectedFile);\n      formData.append(\"playlistLinkString\", this.state.playlistLinkString);\n      this.setState({\n        downloading: true,\n        downloadObject: \"playlist\"\n      });\n      axios.post('http://localhost:5000/playlist', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          downloadComplete: true,\n          downloading: false\n        });\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          downloadError: true,\n          downloading: false,\n          downloadComplete: false,\n          downloadObject: \"\"\n        });\n      });\n    } else {\n      alert(\"Please fill only one of the video/playlist link fields\");\n    }\n  }\n\n  onVideoLinkProvided(e) {\n    this.setState({\n      videoLinkString: e.target.value\n    });\n  }\n\n  onPlaylistLinkProvided(e) {\n    this.setState({\n      playlistLinkString: e.target.value\n    });\n  }\n\n  onDownloadReset() {\n    this.setState({\n      downloading: false,\n      downloadComplete: false,\n      downloadObject: \"\",\n      downloadError: false\n    });\n  }\n\n  handleMediaSpaceButton() {\n    this.setState({\n      toggledMediaSpace: true\n    });\n  }\n\n  handleEchoButton() {\n    this.setState({\n      toggledMediaSpace: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"css-root\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"button-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleMediaSpaceButton,\n          style: this.state.toggledMediaSpace ? orangeBackground : blueBackground,\n          children: \"Mediaspace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleEchoButton,\n          style: this.state.toggledMediaSpace ? blueBackground : orangeBackground,\n          children: \"Echo360\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DownloadWindow, {\n        className: \"downloadWindow\",\n        ...this.state,\n        onFileChange: this.onFileChange,\n        onFileUpload: this.onFileUpload,\n        onPlaylistLinkProvided: this.onPlaylistLinkProvided,\n        playlistLinkString: this.state.playlistLinkString,\n        onVideoLinkProvided: this.onVideoLinkProvided,\n        videoLinkString: this.state.videoLinkString,\n        onDownloadReset: this.onDownloadReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 141,\n  columnNumber: 13\n}, this));","map":{"version":3,"names":["React","axios","DownloadWindow","ReactDOM","blueBackground","backgroundColor","orangeBackground","App","Component","constructor","props","state","toggledMediaSpace","selectedFile","videoLinkString","playlistLinkString","downloading","downloadComplete","downloadObject","downloadError","handleMediaSpaceButton","bind","handleEchoButton","onFileChange","onFileUpload","onVideoLinkProvided","onPlaylistLinkProvided","onDownloadReset","e","setState","target","files","console","log","name","formData","FormData","append","post","headers","then","res","catch","error","alert","value","render","root","createRoot","document","getElementById"],"sources":["/home/deniz/projects/mediaplay/src/index.tsx"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {DownloadWindow} from './Download';\nimport ReactDOM from 'react-dom/client';\nimport './index.css'\n\n\nconst blueBackground = {\n\n\tbackgroundColor:\"var(--uofiblue)\"\n}\n\nconst orangeBackground = {\n\n\tbackgroundColor:\"var(--uofichampaignorange)\"\n}\n\ntype AppState = {toggledMediaSpace:boolean,\n\t\tselectedFile:any,\n\t\tvideoLinkString:string,\t\n\t\tplaylistLinkString:string,\n\t\tdownloading:boolean,\n\t\tdownloadComplete:boolean, \n\t\tdownloadObject:string,\n\t\tdownloadError:boolean\n};\n\ntype AppProps = {} ; \n\nclass App extends React.Component<AppProps,AppState> {\n\n\tconstructor(props:any) {\n\t\tsuper(props)\n\t\t\n\t\tthis.state = {toggledMediaSpace:true,selectedFile:\"\",videoLinkString:\"\",playlistLinkString:\"\",downloading:false,downloadComplete:false,downloadObject:\"\",downloadError:false};\n\t\t\n\t\tthis.handleMediaSpaceButton = this.handleMediaSpaceButton.bind(this);\n\t\tthis.handleEchoButton = this.handleEchoButton.bind(this);\n\t\tthis.onFileChange = this.onFileChange.bind(this);\n\t\tthis.onFileUpload = this.onFileUpload.bind(this);\n\t\tthis.onVideoLinkProvided = this.onVideoLinkProvided.bind(this);\n\t\tthis.onPlaylistLinkProvided = this.onPlaylistLinkProvided.bind(this);\n\t\tthis.onDownloadReset = this.onDownloadReset.bind(this);\n\t}\n\n\tonFileChange(e:any) {\n\t\tthis.setState({selectedFile: e.target.files[0]});\n\t}\n\n\tonFileUpload() {\n\t\tif (this.state.videoLinkString !== \"\" && this.state.playlistLinkString === \"\") {\n\t\t\tconsole.log(\"File succesfully uploaded with filename: \" + this.state.selectedFile.name);\n\t\t\tlet formData = new FormData() ; \n\t\t\tformData.append(\"cookieFile\",this.state.selectedFile);\n\t\t\tformData.append(\"videoLinkString\",this.state.videoLinkString);\n\t\t\t\n\t\t\tthis.setState({downloading:true, downloadObject:\"video\"});\n\t\t\taxios.post('http://localhost:5000/video', formData, { \n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tres => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({downloadComplete:true,downloading:false});\n\t\t\t}).catch( \n\t\t\t\terror => {\n\t\t\t\tconsole.log(error); \n\t\t\t\tthis.setState({downloadError:true,downloading:false,downloadComplete:false,downloadObject:\"\"});\n\t\t\t});\n\t\t}\n\n\t\telse if  (this.state.playlistLinkString !== \"\" && this.state.videoLinkString === \"\") {\n\t\t\tconsole.log(\"File succesfully uploaded with filename: \" + this.state.selectedFile.name);\n\t\t\tlet formData = new FormData() ; \n\t\t\tformData.append(\"cookieFile\",this.state.selectedFile);\n\t\t\tformData.append(\"playlistLinkString\",this.state.playlistLinkString);\n\t\t\t\n\t\t\tthis.setState({downloading:true,downloadObject:\"playlist\"});\n\t\t\taxios.post('http://localhost:5000/playlist', formData, { \n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tres => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({downloadComplete:true,downloading:false});\n\t\t\t}).catch( \n\t\t\t\terror => {\n\t\t\t\tconsole.log(error); \n\t\t\t\tthis.setState({downloadError:true,downloading:false,downloadComplete:false,downloadObject:\"\"});\n\t\t\t});\n\t\t}\n\n\t\telse {\n\t\t\talert(\"Please fill only one of the video/playlist link fields\");\n\t\t}\n\t}\n\tonVideoLinkProvided(e:any) {\n\t\tthis.setState({videoLinkString:e.target.value})\n\t}\n\n\tonPlaylistLinkProvided(e:any) {\n\t\tthis.setState({playlistLinkString:e.target.value})\n\t}\n\tonDownloadReset() {\n\t\tthis.setState({downloading:false,downloadComplete:false,downloadObject:\"\",downloadError:false});\n\t}\n\thandleMediaSpaceButton() {\n\t\tthis.setState({\n\t\t\ttoggledMediaSpace:true\n\t\t});\n\t}\n\thandleEchoButton() {\n\t\tthis.setState({\n\t\t\ttoggledMediaSpace:false\n\t\t});\n\t}\n\n\trender() {\n\t\treturn ( \n\t\t\t<div id=\"css-root\">\n\t\t\t\t<div id=\"button-div\">\n\t\t\t\t\t<button onClick={this.handleMediaSpaceButton} style = { this.state.toggledMediaSpace ? orangeBackground : blueBackground}>\n\t\t\t\t\t\tMediaspace \n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={this.handleEchoButton}  style= {this.state.toggledMediaSpace ? blueBackground: orangeBackground} >\n\t\t\t\t\t\tEcho360 \n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<DownloadWindow className=\"downloadWindow\" {...this.state} onFileChange={this.onFileChange} onFileUpload={this.onFileUpload} onPlaylistLinkProvided={this.onPlaylistLinkProvided} playlistLinkString={this.state.playlistLinkString} onVideoLinkProvided={this.onVideoLinkProvided} videoLinkString={this.state.videoLinkString} onDownloadReset={this.onDownloadReset} /> \n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(<App />);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}